{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport { ReviewCard } from './ReviewCard';\nimport useWindowWidth from '@/utils/useWindowSize';\nimport styles from './styles.module.scss';\n\n// const data = [\n// \t{\n// \t\tid: 1,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 2,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 3,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 4,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 5,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 6,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 7,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 8,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// ];\nvar getElemOnPage = function getElemOnPage(width) {\n  if (width > 1199.8) {\n    return 4;\n  }\n\n  if (width > 991.8) {\n    return 3;\n  }\n\n  if (width > 767.8) {\n    return 2;\n  }\n\n  return 1;\n};\n\nvar Slider = function Slider(_ref) {\n  var reviews = _ref.reviews;\n  var width = useWindowWidth();\n\n  var _useState = useState(0),\n      currentPage = _useState[0],\n      setCurrentPage = _useState[1];\n\n  var _useState2 = useState(0),\n      touchStart = _useState2[0],\n      setTouchStart = _useState2[1];\n\n  var _useState3 = useState(0),\n      touchEnd = _useState3[0],\n      setTouchEnd = _useState3[1];\n\n  var handleTouchStart = function handleTouchStart(e) {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  var handleTouchMove = function handleTouchMove(e) {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  var handleTouchEnd = function handleTouchEnd(e) {\n    if (touchEnd - touchStart >= 150 && currentPage !== 0) {\n      setCurrentPage(currentPage - 1);\n      return;\n    }\n\n    if (touchEnd - touchStart <= -150 && currentPage !== pages - 1) {\n      setCurrentPage(currentPage + 1);\n      return;\n    }\n  };\n\n  var elemOnPage = getElemOnPage(width);\n  var pages = Math.ceil(reviews.length / elemOnPage);\n  var indicators = [];\n\n  for (var i = 0; i < pages; i++) {\n    indicators.push( /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(styles.indicator, \" \").concat(i === currentPage ? styles['indicator-active'] : '')\n    }, i));\n  }\n\n  var activeSliderData = currentPage * elemOnPage + elemOnPage < reviews.length ? reviews.slice(currentPage * elemOnPage, currentPage * elemOnPage + elemOnPage) : reviews.slice(currentPage * elemOnPage);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.slider,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n      className: \"d-grid \".concat(styles['slider-content'], \" \").concat(activeSliderData.length < elemOnPage ? styles.lastPage : ''),\n      children: activeSliderData.map(function (data) {\n        return /*#__PURE__*/_jsx(ReviewCard, {\n          review: data\n        }, data._id);\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.controls,\n      children: [/*#__PURE__*/_jsx(\"button\", {\n        className: styles.arrowBtn,\n        disabled: currentPage === 0,\n        onClick: function onClick() {\n          setCurrentPage(currentPage - 1);\n        },\n        children: /*#__PURE__*/_jsx(Image, {\n          src: \"/assets/image/sections/reviews/left_arrow.svg\",\n          alt: \"left arrow\",\n          width: 62,\n          height: 14\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: styles.indicators,\n        children: indicators.map(function (indicator) {\n          return indicator;\n        })\n      }), /*#__PURE__*/_jsx(\"button\", {\n        className: styles.arrowBtn,\n        disabled: currentPage === pages - 1,\n        onClick: function onClick() {\n          setCurrentPage(currentPage + 1);\n        },\n        children: /*#__PURE__*/_jsx(Image, {\n          src: \"/assets/image/sections/reviews/right_arrow.svg\",\n          alt: \"left arrow\",\n          width: 62,\n          height: 14\n        })\n      })]\n    })]\n  });\n};\n\nexport { Slider };","map":null,"metadata":{},"sourceType":"module"}