{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\job\\\\lilac\\\\components\\\\sections\\\\ReviewSection\\\\Slider.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport { ReviewCard } from './ReviewCard';\nimport useWindowWidth from '@/utils/useWindowSize';\nimport styles from './styles.module.scss';\n\n// const data = [\n// \t{\n// \t\tid: 1,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 2,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 3,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 4,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 5,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 6,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 7,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// \t{\n// \t\tid: 8,\n// \t\ttext:\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\n// \t\tauthor: 'Павел Середкин',\n// \t\tdate: '12.08.2020',\n// \t},\n// ];\nvar getElemOnPage = function getElemOnPage(width) {\n  if (width > 1199.8) {\n    return 4;\n  }\n\n  if (width > 991.8) {\n    return 3;\n  }\n\n  if (width > 767.8) {\n    return 2;\n  }\n\n  return 1;\n};\n\nvar Slider = function Slider(_ref) {\n  _s();\n\n  var reviews = _ref.reviews;\n  var width = useWindowWidth();\n\n  var _useState = useState(0),\n      currentPage = _useState[0],\n      setCurrentPage = _useState[1];\n\n  var _useState2 = useState(0),\n      touchStart = _useState2[0],\n      setTouchStart = _useState2[1];\n\n  var _useState3 = useState(0),\n      touchEnd = _useState3[0],\n      setTouchEnd = _useState3[1];\n\n  var handleTouchStart = function handleTouchStart(e) {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  var handleTouchMove = function handleTouchMove(e) {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  var handleTouchEnd = function handleTouchEnd(e) {\n    if (touchEnd - touchStart >= 150 && currentPage !== 0) {\n      setCurrentPage(currentPage - 1);\n      return;\n    }\n\n    if (touchEnd - touchStart <= -150 && currentPage !== pages - 1) {\n      setCurrentPage(currentPage + 1);\n      return;\n    }\n  };\n\n  var elemOnPage = getElemOnPage(width);\n  var pages = Math.ceil(reviews.length / elemOnPage);\n  var indicators = [];\n\n  for (var i = 0; i < pages; i++) {\n    indicators.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\".concat(styles.indicator, \" \").concat(i === currentPage ? styles['indicator-active'] : '')\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, _this));\n  }\n\n  var activeSliderData = currentPage * elemOnPage + elemOnPage < reviews.length ? reviews.slice(currentPage * elemOnPage, currentPage * elemOnPage + elemOnPage) : reviews.slice(currentPage * elemOnPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.slider,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n      className: \"d-grid \".concat(styles['slider-content'], \" \").concat(activeSliderData.length < elemOnPage ? styles.lastPage : ''),\n      children: activeSliderData.map(function (data) {\n        return /*#__PURE__*/_jsxDEV(ReviewCard, {\n          review: data\n        }, data._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.controls,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.arrowBtn,\n        disabled: currentPage === 0,\n        onClick: function onClick() {\n          setCurrentPage(currentPage - 1);\n        },\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: \"/assets/image/sections/reviews/left_arrow.svg\",\n          alt: \"left arrow\",\n          width: 62,\n          height: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.indicators,\n        children: indicators.map(function (indicator) {\n          return indicator;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.arrowBtn,\n        disabled: currentPage === pages - 1,\n        onClick: function onClick() {\n          setCurrentPage(currentPage + 1);\n        },\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: \"/assets/image/sections/reviews/right_arrow.svg\",\n          alt: \"left arrow\",\n          width: 62,\n          height: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(Slider, \"waxToCrT4lfr+cDlaKCBTF9/SUg=\", false, function () {\n  return [useWindowWidth];\n});\n\n_c = Slider;\nexport { Slider };\n\nvar _c;\n\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"sources":["C:/Users/User/Documents/job/lilac/components/sections/ReviewSection/Slider.tsx"],"names":["useState","Image","ReviewCard","useWindowWidth","styles","getElemOnPage","width","Slider","reviews","currentPage","setCurrentPage","touchStart","setTouchStart","touchEnd","setTouchEnd","handleTouchStart","e","targetTouches","clientX","handleTouchMove","handleTouchEnd","pages","elemOnPage","Math","ceil","length","indicators","i","push","indicator","activeSliderData","slice","slider","lastPage","map","data","_id","controls","arrowBtn"],"mappings":"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","sourcesContent":["import {FC, TouchEvent, useState} from 'react';\r\nimport Image from 'next/image';\r\nimport {ReviewCard} from './ReviewCard';\r\nimport useWindowWidth from '@/utils/useWindowSize';\r\nimport styles from './styles.module.scss';\r\nimport { IReview } from '@/types/reviews.types';\r\n\r\n// const data = [\r\n// \t{\r\n// \t\tid: 1,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 2,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 3,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 4,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 5,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 6,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 7,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// \t{\r\n// \t\tid: 8,\r\n// \t\ttext:\r\n// \t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure',\r\n// \t\tavatar: '/assets/sections/reviews/Avatar.jpg',\r\n// \t\tauthor: 'Павел Середкин',\r\n// \t\tdate: '12.08.2020',\r\n// \t},\r\n// ];\r\n\r\nconst getElemOnPage = (width: number) => {\r\n\tif (width > 1199.8) {\r\n\t\treturn 4;\r\n\t}\r\n\r\n\tif (width > 991.8) {\r\n\t\treturn 3;\r\n\t}\r\n\r\n\tif (width > 767.8) {\r\n\t\treturn 2;\r\n\t}\r\n\r\n\treturn 1;\r\n};\r\n\r\ninterface IReviews {\r\n\treviews: IReview[];\r\n} \r\n\r\nconst Slider: FC<IReviews> = ({reviews}) => {\r\n\tconst width = useWindowWidth();\r\n\tconst [currentPage, setCurrentPage] = useState(0);\r\n\tconst [touchStart, setTouchStart] = useState<number>(0);\r\n\tconst [touchEnd, setTouchEnd] = useState<number>(0);\r\n\r\n\tconst handleTouchStart = (e: TouchEvent<HTMLDivElement>) => {\r\n\t\tsetTouchStart(e.targetTouches[0].clientX);\r\n\t}\r\n\r\n\tconst handleTouchMove = (e: TouchEvent<HTMLDivElement>) => {\r\n\t\tsetTouchEnd(e.targetTouches[0].clientX);\r\n\t}\r\n\r\n\tconst handleTouchEnd = (e: TouchEvent<HTMLDivElement>) => {\r\n\t\tif (touchEnd - touchStart >= 150 && currentPage !== 0) {\r\n\t\t\tsetCurrentPage(currentPage - 1);\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (touchEnd - touchStart <= -150 && currentPage !== pages - 1) {\r\n\t\t\tsetCurrentPage(currentPage + 1);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tlet elemOnPage = getElemOnPage(width);\r\n\r\n\tconst pages = Math.ceil(reviews.length / elemOnPage);\t\r\n\r\n\tconst indicators = [];\r\n\r\n\tfor (let i = 0; i < pages; i++) {\r\n\t\tindicators.push(\r\n\t\t\t<div\r\n\t\t\t\tkey={i}\r\n\t\t\t\tclassName={`${styles.indicator} ${\r\n\t\t\t\t\ti === currentPage ? styles['indicator-active'] : ''\r\n\t\t\t\t}`}\r\n\t\t\t></div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst activeSliderData =\r\n\t\tcurrentPage * elemOnPage + elemOnPage < reviews.length\r\n\t\t\t? reviews.slice(currentPage * elemOnPage, currentPage * elemOnPage + elemOnPage)\r\n\t\t\t: reviews.slice(currentPage * elemOnPage);\r\n\r\n\treturn (\r\n\t\t<div className={styles.slider}>\r\n\t\t\t<div\r\n\t\t\t\tonTouchStart={handleTouchStart}\r\n\t\t\t\tonTouchMove={handleTouchMove}\r\n\t\t\t\tonTouchEnd={handleTouchEnd}\r\n\t\t\t\tclassName={`d-grid ${styles['slider-content']} ${\r\n\t\t\t\t\tactiveSliderData.length < elemOnPage ? styles.lastPage : ''\r\n\t\t\t\t}`}\r\n\t\t\t>\r\n\t\t\t\t{activeSliderData.map((data) => {\r\n\t\t\t\t\treturn <ReviewCard key={data._id} review={data} />;\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.controls}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={styles.arrowBtn}\r\n\t\t\t\t\tdisabled={currentPage === 0}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetCurrentPage(currentPage - 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tsrc=\"/assets/image/sections/reviews/left_arrow.svg\"\r\n\t\t\t\t\t\talt=\"left arrow\"\r\n\t\t\t\t\t\twidth={62}\r\n\t\t\t\t\t\theight={14}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={styles.indicators}>{indicators.map((indicator) => indicator)}</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={styles.arrowBtn}\r\n\t\t\t\t\tdisabled={currentPage === pages - 1}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetCurrentPage(currentPage + 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tsrc=\"/assets/image/sections/reviews/right_arrow.svg\"\r\n\t\t\t\t\t\talt=\"left arrow\"\r\n\t\t\t\t\t\twidth={62}\r\n\t\t\t\t\t\theight={14}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport {Slider};\r\n"]},"metadata":{},"sourceType":"module"}